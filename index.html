<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘çš„çŸ¥è¯†åº“</title>

    <!-- è¿™é‡Œå¼€å§‹æ˜¯ CSS æ ·å¼ -->
    <style>
    /* æ•´ä½“é¡µé¢æ ·å¼ - è‹¹æœé£æ ¼ */
    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background-color: #f5f5f7;  /* è‹¹æœå®˜ç½‘çš„æµ…ç°èƒŒæ™¯ */
        margin: 0;
        padding: 40px 20px;
        min-height: 100vh;
    }
    
    /* å®¹å™¨ - è®©å†…å®¹å±…ä¸­ */
    .container {
        max-width: 800px;
        margin: 0 auto;
    }
    
    /* ä¸»æ ‡é¢˜æ ·å¼ - è‹¹æœé£æ ¼ */
    h1 {
        color: #1d1d1f;  /* è‹¹æœæ·±ç°è‰² */
        text-align: center;
        font-size: 56px;
        font-weight: 600;
        margin-bottom: 8px;
        letter-spacing: -0.5px;
    }
    
    /* æ®µè½æ ·å¼ */
    p {
        color: #6e6e73;  /* è‹¹æœä¸­ç°è‰² */
        text-align: center;
        font-size: 21px;
        line-height: 1.4;
    }
    
    /* äºŒçº§æ ‡é¢˜æ ·å¼ */
    h2 {
        color: #1d1d1f;
        margin-top: 60px;
        margin-bottom: 20px;
        font-size: 32px;
        font-weight: 600;
    }
    
    /* è¾“å…¥æ¡†æ ·å¼ - è‹¹æœé£æ ¼ */
    input {
        width: 100%;
        padding: 16px;
        margin: 12px 0;
        border: 1px solid #d2d2d7;
        border-radius: 12px;
        font-size: 17px;
        box-sizing: border-box;
        background-color: white;
        transition: all 0.3s ease;
    }
    
    /* è¾“å…¥æ¡†èšç„¦æ•ˆæœ */
    input:focus {
        outline: none;
        border-color: #0071e3;  /* è‹¹æœè“ */
        box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.1);
    }
    
    /* æŒ‰é’®æ ·å¼ - è‹¹æœè“ */
    button {
        width: 100%;
        padding: 16px;
        margin: 20px 0;
        background-color: #0071e3;  /* ç»å…¸è‹¹æœè“ */
        color: white;
        border: none;
        border-radius: 12px;
        font-size: 17px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.3s ease;
    }
    
    /* æŒ‰é’®æ‚¬åœæ•ˆæœ */
    button:hover {
        background-color: #0077ED;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0, 113, 227, 0.3);
    }
    
    /* æŒ‰é’®ç‚¹å‡»æ•ˆæœ */
    button:active {
        transform: translateY(0);
    }
    
    /* é“¾æ¥åˆ—è¡¨åŒºåŸŸ - ç™½è‰²å¡ç‰‡ */
    #linkList {
        background-color: white;
        padding: 32px;
        border-radius: 16px;
        margin-top: 20px;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
        color: #1d1d1f;
    }

    /* æ ‡ç­¾æŒ‰é’®æ ·å¼ */
    .tag-btn {
        padding: 8px 16px;
        background-color: white;
        color: #1d1d1f;
        border: 2px solid #d2d2d7;
        border-radius: 20px;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-weight: normal;
    }
    
    .tag-btn:hover {
        border-color: #0071e3;
        color: #0071e3;
        transform: none;
        box-shadow: none;
    }
    
    .tag-btn.selected {
        background-color: #0071e3;
        color: white;
        border-color: #0071e3;
    }
    
    /* å¡ç‰‡ä¸­çš„æ ‡ç­¾æ ·å¼ */
    .card-tag {
        display: inline-block;
        padding: 4px 12px;
        background-color: #e3f2fd;
        color: #0071e3;
        border-radius: 12px;
        font-size: 13px;
        margin-right: 6px;
        margin-top: 8px;
    }
    /* å¡ç‰‡æ‚¬åœæ•ˆæœ */
    .link-card {
        background-color: #f9f9f9;
        padding: 20px;
        margin: 15px 0;
        border-radius: 12px;
        border-left: 4px solid #0071e3;
        transition: all 0.3s ease;
    }
    
    .link-card:hover {
        background-color: white;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        transform: translateY(-2px);
    }
    /* é¡µé¢åŠ è½½åŠ¨ç”» */
    body {
        animation: fadeIn 0.5s ease-in;
    }
    
    @keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }
    </style>
</head>
<body>
    <h1>è¶…çº§å¤§è„‘ ğŸš€</h1>
    
    <p>æ¬¢è¿ä½¿ç”¨æˆ‘çš„é“¾æ¥æ”¶è—å·¥å…·ï¼åœ¨è¿™é‡Œæ•´ç†ä½ çš„çŸ¥è¯†ã€‚</p>
    
    <h2>æ·»åŠ æ–°é“¾æ¥</h2>
    
    <div>
        <input type="text" id="linkUrl" placeholder="è¾“å…¥ç½‘é¡µé“¾æ¥ï¼ˆå¦‚ï¼šhttps://example.comï¼‰">
        <input type="text" id="linkTitle" placeholder="è¾“å…¥é“¾æ¥æ ‡é¢˜">
        <input type="text" id="linkNote" placeholder="æ™ºèƒ½ç¬”è®°">

        <!-- æ ‡ç­¾é€‰æ‹©å™¨ -->
        <div style="margin: 12px 0;">
            <label style="color: #1d1d1f; font-size: 16px; display: block; margin-bottom: 8px;">
                ğŸ·ï¸ é€‰æ‹©æ ‡ç­¾ï¼ˆå¯é€‰ï¼‰ï¼š
            </label>
            <div id="tagButtons" style="display: flex; flex-wrap: wrap; gap: 8px;">
                <button type="button" class="tag-btn" data-tag="ç¼–ç¨‹">ç¼–ç¨‹</button>
                <button type="button" class="tag-btn" data-tag="è®¾è®¡">è®¾è®¡</button>
                <button type="button" class="tag-btn" data-tag="AI">AI</button>
                <button type="button" class="tag-btn" data-tag="å­¦ä¹ ">å­¦ä¹ </button>
                <button type="button" class="tag-btn" data-tag="å·¥ä½œ">å·¥ä½œ</button>
                <button type="button" class="tag-btn" data-tag="å·¥å…·">å·¥å…·</button>
                <button type="button" class="tag-btn" data-tag="å…¶ä»–">å…¶ä»–</button>
            </div>
        </div>

        <button id="addButton">+ âœ¨ ç«‹å³æ”¶è—</button>
    </div>
    
     <h2>æˆ‘çš„æ”¶è— ğŸ“š <span id="linkCount" style="color: #0071e3; font-size: 24px;"></span></h2>
    
    <!-- æœç´¢æ¡† -->
    <div style="margin: 20px 0;">
        <input 
            type="text" 
            id="searchInput" 
            placeholder="ğŸ” æœç´¢é“¾æ¥ï¼ˆæ ‡é¢˜ã€URLã€ç¬”è®°...ï¼‰"
            style="margin: 0;"
        >
    </div>
    
    <div id="linkList">
        <p>è¿˜æ²¡æœ‰æ”¶è—ä»»ä½•é“¾æ¥ï¼Œç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¼€å§‹å§ï¼</p>
    </div>

    <script>
        // 1. æ‰¾åˆ°æ‰€æœ‰éœ€è¦çš„å…ƒç´ 
        const addButton = document.getElementById('addButton');
        const linkUrlInput = document.getElementById('linkUrl');
        const linkTitleInput = document.getElementById('linkTitle');
        const linkNoteInput = document.getElementById('linkNote');
        const linkList = document.getElementById('linkList');
        const searchInput = document.getElementById('searchInput');
        const tagButtons = document.querySelectorAll('.tag-btn');
        let selectedTag = '';  // å­˜å‚¨å½“å‰é€‰ä¸­çš„æ ‡ç­¾
        const linkCountSpan = document.getElementById('linkCount');
        
        // 2. ä» localStorage è¯»å–å·²ä¿å­˜çš„é“¾æ¥ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰
        let links = [];  // åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„æ¥å­˜å‚¨æ‰€æœ‰é“¾æ¥
        
        // å°è¯•ä» localStorage è¯»å–
        const savedLinks = localStorage.getItem('myLinks');
        if (savedLinks) {
            links = JSON.parse(savedLinks);  // æŠŠå­—ç¬¦ä¸²è½¬æ¢å›æ•°ç»„
            displayLinks();  // æ˜¾ç¤ºæ‰€æœ‰é“¾æ¥
        }
        
        // 3. æ ‡ç­¾æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    tagButtons.forEach(function(button) {
        button.onclick = function() {
            // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„é€‰ä¸­çŠ¶æ€
            tagButtons.forEach(function(btn) {
                btn.classList.remove('selected');
            });
            
            // åˆ‡æ¢å½“å‰æŒ‰é’®çš„é€‰ä¸­çŠ¶æ€
            if (selectedTag === this.dataset.tag) {
                // å¦‚æœç‚¹å‡»çš„æ˜¯å·²é€‰ä¸­çš„æ ‡ç­¾ï¼Œå–æ¶ˆé€‰ä¸­
                selectedTag = '';
            } else {
                // é€‰ä¸­æ–°æ ‡ç­¾
                selectedTag = this.dataset.tag;
                this.classList.add('selected');
            }
            
            console.log('é€‰ä¸­çš„æ ‡ç­¾ï¼š', selectedTag);
        };
    });
        
        addButton.onclick = function() {
            // è·å–ç”¨æˆ·è¾“å…¥çš„å†…å®¹
            const url = linkUrlInput.value;
            const title = linkTitleInput.value;
            const note = linkNoteInput.value;
            
            // æ£€æŸ¥é“¾æ¥æ˜¯å¦ä¸ºç©º
            if (url === '' || title === '') {
                alert('è¯·è‡³å°‘å¡«å†™é“¾æ¥å’Œæ ‡é¢˜ï¼');
                return;
            }
            
            // åˆ›å»ºä¸€ä¸ªé“¾æ¥å¯¹è±¡
            const newLink = {
                url: url,
                title: title,
                note: note,
                tag: selectedTag,  // æ·»åŠ æ ‡ç­¾
                time: new Date().toLocaleString()  // æ·»åŠ æ—¶é—´æˆ³
            };
            
            // æŠŠæ–°é“¾æ¥æ·»åŠ åˆ°æ•°ç»„å¼€å¤´
            links.unshift(newLink);
            
            // ä¿å­˜åˆ° localStorage
            localStorage.setItem('myLinks', JSON.stringify(links));
            
            // æ˜¾ç¤ºæ‰€æœ‰é“¾æ¥
            displayLinks();
            
            // æ¸…ç©ºè¾“å…¥æ¡†
            linkUrlInput.value = '';
            linkTitleInput.value = '';
            linkNoteInput.value = '';

            // æ¸…ç©ºé€‰ä¸­çš„æ ‡ç­¾
            selectedTag = '';
            tagButtons.forEach(function(btn) {
                btn.classList.remove('selected');
            });
            
            console.log('é“¾æ¥å·²ä¿å­˜åˆ° localStorageï¼');
        };
        
        // 4. æ˜¾ç¤ºæ‰€æœ‰é“¾æ¥çš„å‡½æ•°
        function displayLinks() {
            // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
            linkCountSpan.textContent = `(å…± ${links.length} ä¸ª)`;
            
            if (links.length === 0) {
                linkCountSpan.textContent = '';
                linkList.innerHTML =`
                    <div style="text-align: center; padding: 60px 20px; color: #6e6e73;">
                        <p style="font-size: 64px; margin: 0;">ğŸ“š</p>
                        <p style="font-size: 20px; margin: 20px 0 10px 0; color: #1d1d1f;">è¿˜æ²¡æœ‰ä»»ä½•æ”¶è—</p>
                        <p style="font-size: 16px; margin: 0;">ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®ï¼Œå¼€å§‹æ•´ç†ä½ çš„çŸ¥è¯†åº“å§ï¼</p>
                    </div>
                `;
                return;
            }
            
            let html = '';
            for (let i = 0; i < links.length; i++) {
                const link = links[i];

                // æ ‡ç­¾æ˜¾ç¤º
                const tagHTML = link.tag ? `<span class="card-tag">ğŸ·ï¸ ${link.tag}</span>` : '';

                html += `
                    <div class="link-card">
                    
                        <h3 style="margin: 0 0 10px 0; color: #1d1d1f;">
                            ğŸ“ ${link.title}
                        </h3>
                        <p style="margin: 5px 0; color: #0071e3; word-break: break-all;">
                            ğŸ”— <a href="${link.url}" target="_blank" style="color: #0071e3; text-decoration: none;">${link.url}</a>
                        </p>
                        <p style="margin: 10px 0 0 0; color: #6e6e73;">
                            ğŸ“ ${link.note || 'ï¼ˆæ— ç¬”è®°ï¼‰'}
                        </p>
                        ${tagHTML}
                        <p style="margin: 10px 0 0 0; color: #999; font-size: 14px;">
                            ğŸ•’ ${link.time}
                        </p>
                         <button 
                            onclick="editLink(${i})" 
                            style="
                                width: auto;
                                padding: 8px 16px;
                                margin: 15px 5px 0 0;
                                background-color: #0071e3;
                                font-size: 14px;
                            ">
                            âœï¸ ç¼–è¾‘
                        </button>
                        <button 
                            onclick="deleteLink(${i})" 
                            style="
                                width: auto;
                                padding: 8px 16px;
                                margin: 15px 5px 0 0;
                                background-color: #ff3b30;
                                font-size: 14px;
                            ">
                            ğŸ—‘ï¸ åˆ é™¤
                        </button>      
                    </div>
                `;
            }
            linkList.innerHTML = html;
        }
        
        // 5. æœç´¢åŠŸèƒ½
        searchInput.oninput = function() {
            const keyword = searchInput.value.toLowerCase();  // è½¬å°å†™ï¼Œä¸åŒºåˆ†å¤§å°å†™
            
            if (keyword === '') {
                // å¦‚æœæœç´¢æ¡†ä¸ºç©ºï¼Œæ˜¾ç¤ºæ‰€æœ‰é“¾æ¥
                displayLinks();
                return;
            }
            
            // è¿‡æ»¤å‡ºåŒ¹é…çš„é“¾æ¥
            const filteredLinks = links.filter(function(link) {
                const titleMatch = link.title.toLowerCase().includes(keyword);
                const urlMatch = link.url.toLowerCase().includes(keyword);
                const noteMatch = link.note.toLowerCase().includes(keyword);
                
                return titleMatch || urlMatch || noteMatch;
            });
            
            // æ˜¾ç¤ºè¿‡æ»¤åçš„ç»“æœ
            displayFilteredLinks(filteredLinks, keyword);
        };
        
        // 6. æ˜¾ç¤ºè¿‡æ»¤åçš„é“¾æ¥
        function displayFilteredLinks(filteredLinks, keyword) {
            // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯ï¼ˆæœç´¢ç»“æœæ•°é‡ï¼‰
            linkCountSpan.textContent = `(å…± ${links.length} ä¸ªï¼Œæ‰¾åˆ° ${filteredLinks.length} ä¸ª)`;
            
            if (filteredLinks.length === 0) {
                linkList.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #6e6e73;">
                        <p style="font-size: 48px; margin: 0;">ğŸ”</p>
                        <p style="font-size: 18px;">æ²¡æœ‰æ‰¾åˆ°åŒ…å« "${keyword}" çš„é“¾æ¥</p>
                        <p style="font-size: 14px;">è¯•è¯•å…¶ä»–å…³é”®è¯å§ï½</p>
                    </div>
                `;
                return;
            }
            
            let html = '';
            for (let i = 0; i < filteredLinks.length; i++) {
                const link = filteredLinks[i];
                
                // é«˜äº®æ˜¾ç¤ºåŒ¹é…çš„å…³é”®è¯
                const highlightedTitle = highlightKeyword(link.title, keyword);
                const highlightedUrl = highlightKeyword(link.url, keyword);
                const highlightedNote = highlightKeyword(link.note, keyword);

                // æ ‡ç­¾æ˜¾ç¤º
                const tagHTML = link.tag ? `<span class="card-tag">ğŸ·ï¸ ${link.tag}</span>` : '';
                
                html += `
                    <div class="link-card">
                    
                        <h3 style="margin: 0 0 10px 0; color: #1d1d1f;">
                            ğŸ“ ${highlightedTitle}
                        </h3>
                        <p style="margin: 5px 0; color: #0071e3; word-break: break-all;">
                            ğŸ”— <a href="${link.url}" target="_blank" style="color: #0071e3; text-decoration: none;">${highlightedUrl}</a>
                        </p>
                        <p style="margin: 10px 0 0 0; color: #6e6e73;">
                            ğŸ“ ${highlightedNote || 'ï¼ˆæ— ç¬”è®°ï¼‰'}
                        </p>
                        ${tagHTML}
                        <p style="margin: 10px 0 0 0; color: #999; font-size: 14px;">
                            ğŸ•’ ${link.time}
                        </p>
                        <button 
                            onclick="editLink(${links.indexOf(link)})" 
                            style="
                                width: auto;
                                padding: 8px 16px;
                                margin: 15px 5px 0 0;
                                background-color: #0071e3;
                                font-size: 14px;
                            ">
                            âœï¸ ç¼–è¾‘
                        </button>
                        <button 
                            onclick="deleteLink(${links.indexOf(link)})" 
                            style="
                                width: auto;
                                padding: 8px 16px;
                                margin: 15px 5px 0 0;
                                background-color: #ff3b30;
                                font-size: 14px;
                            ">
                            ğŸ—‘ï¸ åˆ é™¤
                        </button>
                    </div>
                `;
            }
            linkList.innerHTML = html;
        }
        
        // 7. é«˜äº®å…³é”®è¯
        function highlightKeyword(text, keyword) {
            if (!text || !keyword) return text;
            
            const regex = new RegExp(`(${keyword})`, 'gi');
            return text.replace(regex, '<span style="background-color: #fff59d; padding: 2px 4px; border-radius: 3px;">$1</span>');
        }

        // 8. åˆ é™¤é“¾æ¥
        function deleteLink(index) {
            // ç¡®è®¤å¯¹è¯æ¡†
            const link = links[index];
            const confirmDelete = confirm(`ç¡®å®šè¦åˆ é™¤è¿™ä¸ªé“¾æ¥å—ï¼Ÿ\n\næ ‡é¢˜ï¼š${link.title}\nURLï¼š${link.url}`);
            
            if (confirmDelete) {
                // ä»æ•°ç»„ä¸­åˆ é™¤
                links.splice(index, 1);
                
                // ä¿å­˜åˆ° localStorage
                localStorage.setItem('myLinks', JSON.stringify(links));
                
                // é‡æ–°æ˜¾ç¤º
                displayLinks();
                
                console.log('é“¾æ¥å·²åˆ é™¤ï¼');
            }
        }
        // 9. ç¼–è¾‘é“¾æ¥
        function editLink(index) {
            const link = links[index];
            
            // å°†è¦ç¼–è¾‘çš„å†…å®¹å¡«å……åˆ°è¾“å…¥æ¡†
            linkUrlInput.value = link.url;
            linkTitleInput.value = link.title;
            linkNoteInput.value = link.note;
            
            // å¦‚æœæœ‰æ ‡ç­¾ï¼Œé€‰ä¸­å¯¹åº”çš„æ ‡ç­¾æŒ‰é’®
            if (link.tag) {
                selectedTag = link.tag;
                tagButtons.forEach(function(btn) {
                    if (btn.dataset.tag === link.tag) {
                        btn.classList.add('selected');
                    } else {
                        btn.classList.remove('selected');
                    }
                });
            }
            
            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // åˆ é™¤æ—§çš„é“¾æ¥
            links.splice(index, 1);
            localStorage.setItem('myLinks', JSON.stringify(links));
            displayLinks();
            
            // æç¤ºç”¨æˆ·
            alert('å†…å®¹å·²å¡«å……åˆ°è¾“å…¥æ¡†ï¼Œä¿®æ”¹åç‚¹å‡»"ä¿å­˜é“¾æ¥"å³å¯å®Œæˆç¼–è¾‘ï¼');
            
            console.log('å¼€å§‹ç¼–è¾‘é“¾æ¥ï¼š', link.title);
        }
        console.log("JavaScript åŠ è½½å®Œæˆï¼å·²åŠ è½½ " + links.length + " ä¸ªé“¾æ¥");
    </script>
</body>
</html>